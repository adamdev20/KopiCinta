<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spaceman - Pragmatic Play</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: #0a0e17;
            color: white;
            min-height: 100vh;
            overflow-x: hidden;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(28, 58, 122, 0.3) 0%, transparent 20%),
                radial-gradient(circle at 90% 80%, rgba(28, 58, 122, 0.3) 0%, transparent 20%);
        }

        .stars {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .star {
            position: absolute;
            background-color: white;
            border-radius: 50%;
            animation: twinkle 3s infinite alternate;
        }

        @keyframes twinkle {
            0% { opacity: 0.2; }
            100% { opacity: 0.8; }
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            margin-bottom: 30px;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #4a69ff, #1e3799);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            box-shadow: 0 0 15px rgba(74, 105, 255, 0.5);
        }

        .logo-text {
            font-size: 28px;
            font-weight: 700;
            background: linear-gradient(to right, #fff, #4a69ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 15px;
            background: rgba(255, 255, 255, 0.05);
            padding: 10px 20px;
            border-radius: 50px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .balance {
            font-weight: 700;
            font-size: 18px;
            color: #4a69ff;
        }

        .avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, #ffcc00, #ff9900);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        .game-area {
            display: grid;
            grid-template-columns: 1fr 400px;
            gap: 30px;
            margin-bottom: 30px;
        }

        .game-screen {
            background: rgba(10, 14, 23, 0.8);
            border-radius: 20px;
            padding: 30px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            position: relative;
            overflow: hidden;
            min-height: 500px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .spaceman-container {
            position: relative;
            width: 300px;
            height: 400px;
            margin: 0 auto 30px;
        }

        .spaceman {
            position: absolute;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 300"><circle cx="100" cy="80" r="50" fill="%234a69ff"/><rect x="70" y="130" width="60" height="120" rx="30" fill="%234a69ff"/><rect x="50" y="180" width="20" height="60" rx="10" fill="%231e3799"/><rect x="130" y="180" width="20" height="60" rx="10" fill="%231e3799"/><rect x="80" y="250" width="40" height="50" rx="20" fill="%231e3799"/><circle cx="80" cy="70" r="15" fill="%23ffffff" opacity="0.7"/><circle cx="120" cy="70" r="15" fill="%23ffffff" opacity="0.7"/><circle cx="80" cy="70" r="5" fill="%230a0e17"/><circle cx="120" cy="70" r="5" fill="%230a0e17"/><path d="M90 110 Q100 120 110 110" stroke="%230a0e17" stroke-width="3" fill="none"/></svg>') center no-repeat;
            background-size: contain;
            filter: drop-shadow(0 0 20px rgba(74, 105, 255, 0.7));
            transition: transform 0.3s ease;
        }

        .rocket-flame {
            position: absolute;
            bottom: -20px;
            left: 50%;
            transform: translateX(-50%);
            width: 40px;
            height: 60px;
            background: linear-gradient(to bottom, #ff9900, #ff3300);
            border-radius: 50% 50% 20px 20px;
            opacity: 0.8;
            animation: flame 0.5s infinite alternate;
        }

        @keyframes flame {
            0% { height: 60px; opacity: 0.8; }
            100% { height: 80px; opacity: 1; }
        }

        .multiplier-display {
            font-size: 5rem;
            font-weight: 900;
            margin: 20px 0;
            text-shadow: 0 0 20px #00ffcc, 0 0 40px #00ffcc;
            color: #00ffcc;
            transition: all 0.3s ease;
            min-height: 120px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            padding: 10px 30px;
            border: 2px solid rgba(0, 255, 204, 0.2);
            width: 100%;
            max-width: 400px;
        }

        .multiplier-display.animate {
            animation: pulse 0.5s ease;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }

        .game-controls {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        .bet-panel {
            background: rgba(10, 14, 23, 0.8);
            border-radius: 20px;
            padding: 25px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .panel-title {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 15px;
            color: #4a69ff;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .bet-amount {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .bet-input-container {
            display: flex;
            align-items: center;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 5px 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .currency {
            color: #ffcc00;
            font-weight: 700;
        }

        .bet-input {
            background: transparent;
            border: none;
            color: white;
            font-size: 18px;
            padding: 10px;
            width: 100%;
            outline: none;
        }

        .bet-buttons {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
        }

        .bet-button {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 12px;
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            text-align: center;
        }

        .bet-button:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .bet-button.active {
            background: linear-gradient(135deg, #4a69ff, #1e3799);
            border-color: #4a69ff;
        }

        .action-buttons {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .btn {
            padding: 15px;
            border-radius: 10px;
            border: none;
            font-weight: 700;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .btn-play {
            background: linear-gradient(135deg, #00cc66, #00aa44);
            color: white;
            box-shadow: 0 5px 15px rgba(0, 204, 102, 0.3);
        }

        .btn-play:hover {
            background: linear-gradient(135deg, #00dd77, #00bb55);
            transform: translateY(-2px);
        }

        .btn-cashout {
            background: linear-gradient(135deg, #ffcc00, #ff9900);
            color: #000;
            box-shadow: 0 5px 15px rgba(255, 204, 0, 0.3);
        }

        .btn-cashout:hover {
            background: linear-gradient(135deg, #ffdd44, #ffaa00);
            transform: translateY(-2px);
        }

        .btn-cashout:disabled {
            background: #666;
            color: #999;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .game-stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .stat-value {
            font-size: 24px;
            font-weight: 700;
            color: #4a69ff;
            margin-top: 5px;
        }

        .history-panel {
            background: rgba(10, 14, 23, 0.8);
            border-radius: 20px;
            padding: 25px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }

        .history-list {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 15px;
            max-height: 200px;
            overflow-y: auto;
        }

        .history-item {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            padding: 8px 15px;
            font-size: 14px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .history-item.high {
            background: linear-gradient(135deg, #ff3333, #cc0000);
        }

        .history-item.medium {
            background: linear-gradient(135deg, #ffcc00, #ff9900);
        }

        .history-item.low {
            background: linear-gradient(135deg, #4a69ff, #1e3799);
        }

        .game-info {
            margin-top: 30px;
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
        }

        .info-card {
            background: rgba(10, 14, 23, 0.8);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .info-card h3 {
            font-size: 16px;
            margin-bottom: 10px;
            color: #4a69ff;
        }

        .info-card p {
            font-size: 14px;
            color: rgba(255, 255, 255, 0.7);
            line-height: 1.5;
        }

        .timer {
            font-size: 18px;
            margin: 15px 0;
            color: #ffcc00;
            text-align: center;
        }

        .probability-bar {
            height: 10px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
            margin-top: 10px;
            overflow: hidden;
        }

        .probability-fill {
            height: 100%;
            background: linear-gradient(90deg, #00cc66, #ffcc00, #ff3333);
            border-radius: 5px;
            width: 30%;
            transition: width 0.5s ease;
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .game-area {
                grid-template-columns: 1fr;
            }
            
            .game-info {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .header {
                flex-direction: column;
                gap: 15px;
            }
            
            .game-stats {
                grid-template-columns: 1fr;
            }
            
            .multiplier-display {
                font-size: 3.5rem;
            }
        }
    </style>
</head>
<body>
    <div class="stars" id="stars"></div>
    
    <div class="container">
        <div class="header">
            <div class="logo">
                <div class="logo-icon">
                    <i class="fas fa-user-astronaut"></i>
                </div>
                <div class="logo-text">Spaceman</div>
            </div>
            <div class="user-info">
                <div class="balance">$<span id="balance">1000.00</span></div>
                <div class="avatar">JD</div>
            </div>
        </div>
        
        <div class="game-area">
            <div class="game-screen">
                <div class="spaceman-container">
                    <div class="spaceman"></div>
                    <div class="rocket-flame"></div>
                </div>
                
                <div class="multiplier-display" id="multiplier">1.00x</div>
                
                <div class="timer" id="timer">Next round in: 5s</div>
                
                <div class="game-controls">
                    <button class="btn btn-play" id="playBtn">
                        <i class="fas fa-play"></i> Start Round
                    </button>
                    <button class="btn btn-cashout" id="cashoutBtn" disabled>
                        <i class="fas fa-dollar-sign"></i> Cashout
                    </button>
                </div>
            </div>
            
            <div class="bet-panel">
                <div class="bet-amount">
                    <div class="panel-title">
                        <i class="fas fa-coins"></i> Bet Amount
                    </div>
                    <div class="bet-input-container">
                        <span class="currency">$</span>
                        <input type="number" class="bet-input" id="betAmount" value="10.00" min="1" max="1000" step="0.5">
                    </div>
                    <div class="bet-buttons">
                        <div class="bet-button" data-bet="1">$1</div>
                        <div class="bet-button" data-bet="5">$5</div>
                        <div class="bet-button" data-bet="10">$10</div>
                        <div class="bet-button" data-bet="25">$25</div>
                        <div class="bet-button" data-bet="50">$50</div>
                        <div class="bet-button" data-bet="100">$100</div>
                    </div>
                </div>
                
                <div class="action-buttons">
                    <div class="panel-title">
                        <i class="fas fa-gamepad"></i> Game Controls
                    </div>
                    <button class="btn btn-play" id="autoPlayBtn">
                        <i class="fas fa-robot"></i> Auto Play
                    </button>
                    <button class="btn" id="historyBtn" style="background: rgba(255,255,255,0.1); color: white;">
                        <i class="fas fa-history"></i> Game History
                    </button>
                </div>
                
                <div class="game-stats">
                    <div class="stat-card">
                        <div>Current Bet</div>
                        <div class="stat-value">$<span id="currentBet">0.00</span></div>
                    </div>
                    <div class="stat-card">
                        <div>Potential Win</div>
                        <div class="stat-value">$<span id="potentialWin">0.00</span></div>
                    </div>
                    <div class="stat-card">
                        <div>Last Win</div>
                        <div class="stat-value">$<span id="lastWin">0.00</span></div>
                    </div>
                    <div class="stat-card">
                        <div>Rounds Played</div>
                        <div class="stat-value" id="roundsPlayed">0</div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="history-panel">
            <div class="panel-title">
                <i class="fas fa-chart-line"></i> Recent Multipliers
            </div>
            <div class="history-list" id="historyList">
                <!-- History items will be added here dynamically -->
            </div>
        </div>
        
        <div class="game-info">
            <div class="info-card">
                <h3>How to Play</h3>
                <p>Place a bet and watch the multiplier increase from 1.00x. Cash out at any time to multiply your bet. The higher the multiplier, the more you win, but the risk increases as the multiplier can crash at any moment.</p>
            </div>
            <div class="info-card">
                <h3>Multiplier Probability</h3>
                <p>The probability of reaching higher multipliers decreases exponentially. Only 10% of games reach 2x, 1% reach 10x, and 0.1% reach 100x.</p>
                <div class="probability-bar">
                    <div class="probability-fill" id="probabilityFill"></div>
                </div>
            </div>
            <div class="info-card">
                <h3>About Spaceman</h3>
                <p>Spaceman is a crash game where players bet on a multiplier that increases over time. The goal is to cash out before the multiplier crashes. Inspired by Pragmatic Play's popular game.</p>
            </div>
        </div>
    </div>

    <script>
        // Game state
        const gameState = {
            balance: 1000.00,
            currentBet: 0,
            currentMultiplier: 1.00,
            isPlaying: false,
            isAutoPlay: false,
            roundHistory: [],
            crashPoint: 0,
            gameInterval: null,
            multiplierSpeed: 0.01,
            roundsPlayed: 0,
            lastWin: 0
        };

        // DOM Elements
        const balanceElement = document.getElementById('balance');
        const multiplierElement = document.getElementById('multiplier');
        const timerElement = document.getElementById('timer');
        const historyList = document.getElementById('historyList');
        const playBtn = document.getElementById('playBtn');
        const cashoutBtn = document.getElementById('cashoutBtn');
        const betAmountInput = document.getElementById('betAmount');
        const currentBetElement = document.getElementById('currentBet');
        const potentialWinElement = document.getElementById('potentialWin');
        const lastWinElement = document.getElementById('lastWin');
        const roundsPlayedElement = document.getElementById('roundsPlayed');
        const probabilityFill = document.getElementById('probabilityFill');
        const starsContainer = document.getElementById('stars');
        const betButtons = document.querySelectorAll('.bet-button');
        const autoPlayBtn = document.getElementById('autoPlayBtn');

        // Initialize stars
        function createStars() {
            const starsCount = 200;
            
            for (let i = 0; i < starsCount; i++) {
                const star = document.createElement('div');
                star.classList.add('star');
                
                const left = Math.random() * 100;
                const top = Math.random() * 100;
                const size = Math.random() * 3;
                const delay = Math.random() * 5;
                
                star.style.left = `${left}%`;
                star.style.top = `${top}%`;
                star.style.width = `${size}px`;
                star.style.height = `${size}px`;
                star.style.animationDelay = `${delay}s`;
                
                starsContainer.appendChild(star);
            }
        }

        // Generate crash point using exponential distribution
        function generateCrashPoint() {
            // Higher multipliers are exponentially less likely
            const rand = Math.random();
            // Using formula that makes high multipliers rare
            const crashPoint = Math.max(1.00, (1 / (1 - rand)) * 0.02);
            return Math.min(crashPoint, 5000.00); // Cap at 5000x
        }

        // Start a new round
        function startRound() {
            if (gameState.isPlaying) return;
            
            const betAmount = parseFloat(betAmountInput.value);
            if (isNaN(betAmount) || betAmount < 1 || betAmount > gameState.balance) {
                alert('Invalid bet amount!');
                return;
            }
            
            gameState.isPlaying = true;
            gameState.currentBet = betAmount;
            gameState.currentMultiplier = 1.00;
            gameState.crashPoint = generateCrashPoint();
            gameState.balance -= betAmount;
            gameState.roundsPlayed++;
            
            updateUI();
            playBtn.disabled = true;
            cashoutBtn.disabled = false;
            
            // Start multiplier animation
            animateMultiplier();
        }

        // Animate multiplier increasing
        function animateMultiplier() {
            let startTime = null;
            const duration = 30000; // 30 seconds max
            
            function step(timestamp) {
                if (!startTime) startTime = timestamp;
                const progress = timestamp - startTime;
                
                // Calculate current multiplier with easing
                const progressRatio = progress / duration;
                const easeOut = 1 - Math.pow(1 - progressRatio, 3);
                
                // Increase multiplier with accelerating speed
                gameState.currentMultiplier = 1.00 + (gameState.crashPoint - 1.00) * easeOut;
                
                // Update display
                multiplierElement.textContent = gameState.currentMultiplier.toFixed(2) + 'x';
                potentialWinElement.textContent = (gameState.currentBet * gameState.currentMultiplier).toFixed(2);
                
                // Update probability bar
                updateProbabilityBar();
                
                // Check for crash
                if (gameState.currentMultiplier >= gameState.crashPoint) {
                    crash();
                    return;
                }
                
                // Continue animation if still playing
                if (gameState.isPlaying) {
                    requestAnimationFrame(step);
                }
            }
            
            requestAnimationFrame(step);
        }

        // Cash out current round
        function cashOut() {
            if (!gameState.isPlaying) return;
            
            const winAmount = gameState.currentBet * gameState.currentMultiplier;
            gameState.balance += winAmount;
            gameState.lastWin = winAmount - gameState.currentBet;
            
            // Add to history
            addToHistory(gameState.currentMultiplier);
            
            endRound();
            
            // If auto play is enabled, start next round
            if (gameState.isAutoPlay) {
                setTimeout(startRound, 2000);
            }
        }

        // End the round (crash or cashout)
        function endRound() {
            gameState.isPlaying = false;
            playBtn.disabled = false;
            cashoutBtn.disabled = true;
            gameState.currentBet = 0;
            updateUI();
        }

        // Crash the round
        function crash() {
            multiplierElement.textContent = 'CRASH!';
            multiplierElement.style.color = '#ff3333';
            multiplierElement.style.textShadow = '0 0 20px #ff3333, 0 0 40px #ff3333';
            
            // Add to history
            addToHistory(gameState.currentMultiplier);
            
            setTimeout(() => {
                multiplierElement.style.color = '#00ffcc';
                multiplierElement.style.textShadow = '0 0 20px #00ffcc, 0 0 40px #00ffcc';
                endRound();
                
                // If auto play is enabled, start next round
                if (gameState.isAutoPlay) {
                    setTimeout(startRound, 2000);
                }
            }, 2000);
        }

        // Add multiplier to history
        function addToHistory(multiplier) {
            const historyItem = document.createElement('div');
            
            // Determine multiplier category for styling
            if (multiplier >= 10) {
                historyItem.classList.add('history-item', 'high');
            } else if (multiplier >= 2) {
                historyItem.classList.add('history-item', 'medium');
            } else {
                historyItem.classList.add('history-item', 'low');
            }
            
            historyItem.innerHTML = `<i class="fas fa-rocket"></i> ${multiplier.toFixed(2)}x`;
            
            // Add to beginning of list
            historyList.insertBefore(historyItem, historyList.firstChild);
            
            // Limit history to 20 items
            if (historyList.children.length > 20) {
                historyList.removeChild(historyList.lastChild);
            }
            
            // Add to game state history
            gameState.roundHistory.unshift(multiplier);
        }

        // Update probability bar based on current multiplier
        function updateProbabilityBar() {
            const multiplier = gameState.currentMultiplier;
            // Probability decreases exponentially as multiplier increases
            const probability = Math.min(100, 100 / Math.pow(multiplier, 0.5));
            probabilityFill.style.width = `${probability}%`;
        }

        // Update all UI elements
        function updateUI() {
            balanceElement.textContent = gameState.balance.toFixed(2);
            currentBetElement.textContent = gameState.currentBet.toFixed(2);
            potentialWinElement.textContent = (gameState.currentBet * gameState.currentMultiplier).toFixed(2);
            lastWinElement.textContent = gameState.lastWin.toFixed(2);
            roundsPlayedElement.textContent = gameState.roundsPlayed;
            
            // Update button states
            cashoutBtn.disabled = !gameState.isPlaying;
            playBtn.innerHTML = gameState.isPlaying ? 
                '<i class="fas fa-pause"></i> Playing...' : 
                '<i class="fas fa-play"></i> Start Round';
                
            autoPlayBtn.innerHTML = gameState.isAutoPlay ?
                '<i class="fas fa-robot"></i> Auto Play ON' :
                '<i class="fas fa-robot"></i> Auto Play';
        }

        // Event Listeners
        playBtn.addEventListener('click', startRound);
        cashoutBtn.addEventListener('click', cashOut);
        
        autoPlayBtn.addEventListener('click', function() {
            gameState.isAutoPlay = !gameState.isAutoPlay;
            updateUI();
            
            if (gameState.isAutoPlay && !gameState.isPlaying) {
                startRound();
            }
        });

        // Bet amount buttons
        betButtons.forEach(button => {
            button.addEventListener('click', function() {
                const betValue = parseFloat(this.getAttribute('data-bet'));
                betAmountInput.value = betValue.toFixed(2);
                
                // Update active state
                betButtons.forEach(btn => btn.classList.remove('active'));
                this.classList.add('active');
            });
        });

        // Initialize the game
        function init() {
            createStars();
            updateUI();
            
            // Set initial active bet button
            betButtons[2].classList.add('active'); // $10 button
        }

        // Start the game when page loads
        window.addEventListener('load', init);
    </script>
</body>
</html>
